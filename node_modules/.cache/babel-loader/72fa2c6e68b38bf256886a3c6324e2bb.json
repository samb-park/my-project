{"ast":null,"code":"import _defineProperty from\"/Users/sangbongpark/Documents/GitHub/TakeHome/birdandbe/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/Users/sangbongpark/Documents/GitHub/TakeHome/birdandbe/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/sangbongpark/Documents/GitHub/TakeHome/birdandbe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useDispatch}from\"react-redux\";import{add}from\"../module/addCart\";import{useNavigate}from\"react-router-dom\";var useForm=function useForm(validate,product){var _useState=useState({customername:\"\",allergies:\"\",purchace:product.price}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var dispatch=useDispatch();var navigate=useNavigate();var handleChange=function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value,id=_event$target.id;if(id===\"subscribe\"){value=product.price-product.price*0.1;}else if(id===\"onetime\"){value=product.price;}setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(event){event.preventDefault();var result=validate(values);if(Object.keys(result).length===0&&result.constructor===Object){dispatch(add({id:product.id,name:product.name,price:values.purchace,url:product.primary_image.url_standard,customername:values.customername,allergies:values.allergies}));navigate(\"/Cart\");}else{console.log(111);}setErrors(result);};return{handleChange:handleChange,handleSubmit:handleSubmit,values:values,errors:errors};};export default useForm;","map":{"version":3,"sources":["/Users/sangbongpark/Documents/GitHub/TakeHome/birdandbe/src/hook/useForm.js"],"names":["useState","useDispatch","add","useNavigate","useForm","validate","product","customername","allergies","purchace","price","values","setValues","errors","setErrors","dispatch","navigate","handleChange","event","target","name","value","id","handleSubmit","preventDefault","result","Object","keys","length","constructor","url","primary_image","url_standard","console","log"],"mappings":"waAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,KAA4B,aAA5B,CACA,OAASC,GAAT,KAAoB,mBAApB,CACA,OAASC,WAAT,KAA4B,kBAA5B,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,QAAD,CAAWC,OAAX,CAAuB,CACnC,cAA4BN,QAAQ,CAAC,CACjCO,YAAY,CAAE,EADmB,CAEjCC,SAAS,CAAE,EAFsB,CAGjCC,QAAQ,CAAEH,OAAO,CAACI,KAHe,CAAD,CAApC,wCAAOC,MAAP,eAAeC,SAAf,eAKA,eAA4BZ,QAAQ,CAAC,EAAD,CAApC,yCAAOa,MAAP,eAAeC,SAAf,eACA,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CACA,GAAMe,CAAAA,QAAQ,CAAGb,WAAW,EAA5B,CAEA,GAAMc,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC5B,kBAA0BA,KAAK,CAACC,MAAhC,CAAMC,IAAN,eAAMA,IAAN,CAAYC,KAAZ,eAAYA,KAAZ,CAAmBC,EAAnB,eAAmBA,EAAnB,CAEA,GAAIA,EAAE,GAAK,WAAX,CAAwB,CACpBD,KAAK,CAAGf,OAAO,CAACI,KAAR,CAAgBJ,OAAO,CAACI,KAAR,CAAgB,GAAxC,CACH,CAFD,IAEO,IAAIY,EAAE,GAAK,SAAX,CAAsB,CACzBD,KAAK,CAAGf,OAAO,CAACI,KAAhB,CACH,CAEDE,SAAS,gCACFD,MADE,wBAEJS,IAFI,CAEGC,KAFH,GAAT,CAIH,CAbD,CAeA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACL,KAAD,CAAW,CAC5BA,KAAK,CAACM,cAAN,GACA,GAAMC,CAAAA,MAAM,CAAGpB,QAAQ,CAACM,MAAD,CAAvB,CAEA,GAAIe,MAAM,CAACC,IAAP,CAAYF,MAAZ,EAAoBG,MAApB,GAA+B,CAA/B,EAAoCH,MAAM,CAACI,WAAP,GAAuBH,MAA/D,CAAuE,CACnEX,QAAQ,CACJb,GAAG,CAAC,CACAoB,EAAE,CAAEhB,OAAO,CAACgB,EADZ,CAEAF,IAAI,CAAEd,OAAO,CAACc,IAFd,CAGAV,KAAK,CAAEC,MAAM,CAACF,QAHd,CAIAqB,GAAG,CAAExB,OAAO,CAACyB,aAAR,CAAsBC,YAJ3B,CAKAzB,YAAY,CAAEI,MAAM,CAACJ,YALrB,CAMAC,SAAS,CAAEG,MAAM,CAACH,SANlB,CAAD,CADC,CAAR,CAUAQ,QAAQ,CAAC,OAAD,CAAR,CACH,CAZD,IAYO,CACHiB,OAAO,CAACC,GAAR,CAAY,GAAZ,EACH,CACDpB,SAAS,CAACW,MAAD,CAAT,CACH,CApBD,CAsBA,MAAO,CACHR,YAAY,CAAZA,YADG,CAEHM,YAAY,CAAZA,YAFG,CAGHZ,MAAM,CAANA,MAHG,CAIHE,MAAM,CAANA,MAJG,CAAP,CAMH,CArDD,CAuDA,cAAeT,CAAAA,OAAf","sourcesContent":["import { useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { add } from \"../module/addCart\";\nimport { useNavigate } from \"react-router-dom\";\n\nconst useForm = (validate, product) => {\n    const [values, setValues] = useState({\n        customername: \"\",\n        allergies: \"\",\n        purchace: product.price,\n    });\n    const [errors, setErrors] = useState({});\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    const handleChange = (event) => {\n        let { name, value, id } = event.target;\n\n        if (id === \"subscribe\") {\n            value = product.price - product.price * 0.1;\n        } else if (id === \"onetime\") {\n            value = product.price;\n        }\n\n        setValues({\n            ...values,\n            [name]: value,\n        });\n    };\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n        const result = validate(values);\n\n        if (Object.keys(result).length === 0 && result.constructor === Object) {\n            dispatch(\n                add({\n                    id: product.id,\n                    name: product.name,\n                    price: values.purchace,\n                    url: product.primary_image.url_standard,\n                    customername: values.customername,\n                    allergies: values.allergies,\n                })\n            );\n            navigate(\"/Cart\");\n        } else {\n            console.log(111);\n        }\n        setErrors(result);\n    };\n\n    return {\n        handleChange,\n        handleSubmit,\n        values,\n        errors,\n    };\n};\n\nexport default useForm;\n"]},"metadata":{},"sourceType":"module"}